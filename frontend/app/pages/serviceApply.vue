<script setup lang="ts">
import { ref } from "vue";

const selectedService = ref("");

const goBack = () => {
  window.history.back();
};

const selectService = (serviceType: string) => {
  selectedService.value = serviceType;
};

const applyService = () => {
  if (selectedService.value) {
    console.log("μ„ νƒλ μ„λΉ„μ¤:", selectedService.value);
    // λ‹¤μ νμ΄μ§€λ΅ μ΄λ™
    navigateTo("/calendar");
  }
};
</script>

<template>
  <!-- μ„λΉ„μ¤ μ‹ μ²­ νμ΄μ§€ μ „μ²΄ wrap -->
  <div class="h-full w-full bg-gray-100 flex flex-col">
    <!-- ν—¤λ” -->
    <div class="relative flex items-center px-6 py-6 bg-gray-100">
      <button @click="goBack" class="mr-4 p-2">
        <svg
          class="w-6 h-6 text-black"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15 19l-7-7 7-7"
          />
        </svg>
      </button>
      <p
        class="absolute left-1/2 transform -translate-x-1/2 text-lg font-medium text-black"
      >
        μ„λΉ„μ¤ μ‹ μ²­
      </p>
    </div>

    <!-- λ©”μΈ μ»¨ν…μΈ  -->
    <div class="flex-1 px-6 py-8 overflow-y-auto pb-24">
      <!-- μ λ© -->
      <div class="mb-8">
        <h1 class="text-2xl font-bold text-black leading-tight">
          μ›ν•μ‹λ” μ„λΉ„μ¤λ¥Ό<br />μ„ νƒν•΄μ£Όμ„Έμ”.
        </h1>
      </div>

      <!-- μ„λΉ„μ¤ μµμ…λ“¤ -->
      <div class="space-y-4">
        <!-- λ°©λ¬Έν• λ§μ¶¤ λ³µμ•½ μƒλ‹΄ μ„λΉ„μ¤ -->
        <div
          @click="selectService('visit')"
          :class="[
            'rounded-2xl p-6 shadow-sm border-2 transition-all cursor-pointer',
            selectedService === 'visit'
              ? 'bg-blue-500 border-blue-500 text-white'
              : 'bg-white border-gray-200 text-black',
          ]"
        >
          <div class="flex items-start justify-between">
            <div class="flex-1">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold">
                  λ°©λ¬Έν• λ§μ¶¤ λ³µμ•½ μƒλ‹΄ μ„λΉ„μ¤
                </h3>
                <div
                  :class="[
                    'w-6 h-6 rounded-full border-2 flex items-center justify-center',
                    selectedService === 'visit'
                      ? 'border-white bg-white'
                      : 'border-gray-300',
                  ]"
                >
                  <svg
                    v-if="selectedService === 'visit'"
                    class="w-4 h-4 text-blue-500"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </div>
              </div>

              <ul class="space-y-2 mb-4 text-sm opacity-90">
                <li class="flex items-start">
                  <span
                    :class="[
                      'w-1 h-1 rounded-full mt-2 mr-2 flex-shrink-0',
                      selectedService === 'visit' ? 'bg-white' : 'bg-gray-400',
                    ]"
                  ></span>
                  μ•½μ‚¬κ°€ μ§μ ‘ κ°€μ •μ„ λ°©λ¬Έν•μ—¬ μ•½μ„ μ •λ¦¬ν•κ³  λ³µμ•½ μΌμ •μ„ μ¬μ„¤κ³„
                  ν•©λ‹λ‹¤.
                </li>
                <li class="flex items-start">
                  <span
                    :class="[
                      'w-1 h-1 rounded-full mt-2 mr-2 flex-shrink-0',
                      selectedService === 'visit' ? 'bg-white' : 'bg-gray-400',
                    ]"
                  ></span>
                  λ³µμ•½ μ¤λ¥, μ¤‘λ³µ μ²λ°©, μ ν¨κΈ°κ°„ κ²½κ³Ό λ“±μ„ ν„μ¥μ—μ„ λ°”λ΅
                  μ κ²€ν•©λ‹λ‹¤.
                </li>
              </ul>

              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <!-- μ•„μ΄μ½ μλ¦¬ -->
                  <div
                    :class="[
                      'w-12 h-12 rounded-lg flex items-center justify-center mr-4',
                      selectedService === 'visit'
                        ? 'bg-blue-400'
                        : 'bg-blue-100',
                    ]"
                  >
                    π—
                  </div>
                </div>
                <div class="text-right">
                  <p class="text-lg font-bold">μ›” 2ν / 79,900μ›</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- AI λ ν¬νΈ -->
        <div
          @click="selectService('ai')"
          :class="[
            'rounded-2xl p-6 shadow-sm border-2 transition-all cursor-pointer',
            selectedService === 'ai'
              ? 'bg-blue-500 border-blue-500 text-white'
              : 'bg-white border-gray-200 text-black',
          ]"
        >
          <div class="flex items-start justify-between">
            <div class="flex-1">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold">AI λ ν¬νΈ</h3>
                <div
                  :class="[
                    'w-6 h-6 rounded-full border-2 flex items-center justify-center',
                    selectedService === 'ai'
                      ? 'border-white bg-white'
                      : 'border-gray-300',
                  ]"
                >
                  <svg
                    v-if="selectedService === 'ai'"
                    class="w-4 h-4 text-blue-500"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </div>
              </div>

              <ul class="space-y-2 mb-4 text-sm opacity-90">
                <li class="flex items-start">
                  <span
                    :class="[
                      'w-1 h-1 rounded-full mt-2 mr-2 flex-shrink-0',
                      selectedService === 'ai' ? 'bg-white' : 'bg-gray-400',
                    ]"
                  ></span>
                  ν™μμ λ³µμ©μ•½, μ§ν™, μ‹μµκ΄€μ„ λ°”νƒ•μΌλ΅ λ³µμ•½ μ£Όμμ‚¬ν•­μ„ μλ™
                  λ¶„μ„ν•©λ‹λ‹¤.
                </li>
                <li class="flex items-start">
                  <span
                    :class="[
                      'w-1 h-1 rounded-full mt-2 mr-2 flex-shrink-0',
                      selectedService === 'ai' ? 'bg-white' : 'bg-gray-400',
                    ]"
                  ></span>
                  κ°€μ΅±μ—κ² μ‹¤μ‹κ°„μΌλ΅ κ³µμ λλ” λ§μ¶¤ν• λ³µμ•½κ΄€λ¦¬ λ¦¬ν¬νΈλ¥Ό
                  μ κ³µν•©λ‹λ‹¤.
                </li>
              </ul>

              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <!-- μ•„μ΄μ½ μλ¦¬ -->
                  <div
                    :class="[
                      'w-12 h-12 rounded-lg flex items-center justify-center mr-4',
                      selectedService === 'ai' ? 'bg-blue-400' : 'bg-blue-100',
                    ]"
                  >
                    π¤–
                  </div>
                </div>
                <div class="text-right">
                  <p class="text-lg font-bold">μ›” / 9,900μ›</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- μ¤λ§νΈ λ³µμ•½ ν‚¤νΈ -->
        <div
          @click="selectService('smart')"
          :class="[
            'rounded-2xl p-6 shadow-sm border-2 transition-all cursor-pointer',
            selectedService === 'smart'
              ? 'bg-blue-500 border-blue-500 text-white'
              : 'bg-white border-gray-200 text-black',
          ]"
        >
          <div class="flex items-start justify-between">
            <div class="flex-1">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold">μ¤λ§νΈ λ³µμ•½ ν‚¤νΈ</h3>
                <div
                  :class="[
                    'w-6 h-6 rounded-full border-2 flex items-center justify-center',
                    selectedService === 'smart'
                      ? 'border-white bg-white'
                      : 'border-gray-300',
                  ]"
                >
                  <svg
                    v-if="selectedService === 'smart'"
                    class="w-4 h-4 text-blue-500"
                    fill="currentColor"
                    viewBox="0 0 20 20"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </div>
              </div>

              <ul class="space-y-2 mb-4 text-sm opacity-90">
                <li class="flex items-start">
                  <span
                    :class="[
                      'w-1 h-1 rounded-full mt-2 mr-2 flex-shrink-0',
                      selectedService === 'smart' ? 'bg-white' : 'bg-gray-400',
                    ]"
                  ></span>
                  λ³µμ•½ μΌμ •μ— λ§μ¶° μ•½μ„ λ‹΄κ³  μ •λ¦¬ν•  μ μλ” ν‚¤νΈμ…λ‹λ‹¤.
                </li>
                <li class="flex items-start">
                  <span
                    :class="[
                      'w-1 h-1 rounded-full mt-2 mr-2 flex-shrink-0',
                      selectedService === 'smart' ? 'bg-white' : 'bg-gray-400',
                    ]"
                  ></span>
                  λ°©λ¬Έ μ„λΉ„μ¤ νΉμ€ λ§μ¶¤ μ •λ¦¬λ μ•½ ν‚¤νΈλ¥Ό μ κ³µν•΄ λ³µμ•½ μμ‘λ„λ¥Ό
                  λ†’μ…λ‹λ‹¤.
                </li>
              </ul>

              <div class="flex items-center justify-between">
                <div class="flex items-center">
                  <!-- μ•„μ΄μ½ μλ¦¬ -->
                  <div
                    :class="[
                      'w-12 h-12 rounded-lg flex items-center justify-center mr-4',
                      selectedService === 'smart'
                        ? 'bg-blue-400'
                        : 'bg-blue-100',
                    ]"
                  >
                    π“¦
                  </div>
                </div>
                <div class="text-right">
                  <p class="text-lg font-bold">39,900μ›</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- μ‹ μ²­ν•κΈ° λ²„νΌ -->
      <div class="mt-8 pb-6">
        <button
          @click="applyService"
          :disabled="!selectedService"
          :class="[
            'w-full py-4 rounded-2xl font-semibold transition-all',
            selectedService
              ? 'bg-blue-500 text-white hover:bg-blue-600'
              : 'bg-gray-300 text-gray-500 cursor-not-allowed',
          ]"
        >
          μ‹ μ²­ν•κΈ°
        </button>
      </div>
    </div>
  </div>
</template>
